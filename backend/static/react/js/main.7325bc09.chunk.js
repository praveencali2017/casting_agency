(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{10:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c(1),n=c.n(a),i=c(4),l=c.n(i),d=(c(10),c(2)),o="".concat(window.location.origin,"/"),r=o+"v1/movies",j=o+"v1/actors",b=o+"v1/movies_cast",m=function(e){fetch(r).then((function(e){return e.json()})).then((function(t){t&&t.success&&e(t.data)}))},u=function(e){fetch(j).then((function(e){return e.json()})).then((function(t){t&&t.success&&e(t.data)}))};var h=function(e){var t=Object(a.useState)([]),c=Object(d.a)(t,2),n=c[0],i=c[1];return Object(a.useEffect)((function(t){u((function(t){i(t),e.loadActorsList(t)}))}),[]),Object(a.useEffect)((function(t){e.loadActors&&u((function(t){i(t),e.loadActorsList(t)}))}),[e.loadActors]),Object(s.jsx)("div",{className:"row",children:n.map((function(e){return Object(s.jsx)("div",{className:"col",style:{padding:3,marginLeft:2},children:Object(s.jsx)("div",{className:"card",style:{width:300},children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h5",{className:"card-title",style:{color:"black"},children:e.name}),Object(s.jsxs)("p",{style:{color:"black"},children:["Age: ",e.age]}),Object(s.jsxs)("p",{style:{color:"black"},children:["Gender: ",e.gender]}),Object(s.jsx)("div",{className:"btn-success btn-sm text-center",id:"actor-id-btn-"+e.id,children:"Update"})]})})})}))})};var O=function(e){var t=Object(a.useState)([]),c=Object(d.a)(t,2),n=c[0],i=c[1];return Object(a.useEffect)((function(t){m((function(t){i(t),e.loadMoviesList(t)}))}),[]),Object(a.useEffect)((function(t){e.loadMovies&&m((function(t){i(t),e.loadMoviesList(t)}))}),[e.loadMovies]),Object(s.jsx)("div",{className:"row",children:n.map((function(e){return Object(s.jsx)("div",{className:"col",style:{padding:3,marginLeft:2},children:Object(s.jsx)("div",{className:"card",style:{width:300},children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h5",{className:"card-title",style:{color:"black"},children:e.title}),Object(s.jsxs)("p",{children:["Releases on: ",e.release_date]}),Object(s.jsx)("div",{className:"btn-success btn-sm text-center",id:"movie-id-btn-"+e.id,children:"Update"})]})})})}))})};var v=function(e){var t=Object(a.useState)([]),c=Object(d.a)(t,2),n=c[0],i=c[1];Object(a.useEffect)((function(e){l()}),[]),Object(a.useEffect)((function(t){console.log("Updated!!!!"),console.log(e.isUpdated),e.isUpdated&&l()}),[e.isUpdated]);var l=function(){var t;t=function(t){t.success&&(i(t.data),e.disableIsUpdated())},fetch(b).then((function(e){return e.json()})).then((function(e){t(e)}))};return Object(s.jsx)("div",{className:"row",children:n.map((function(e){return Object(s.jsx)("div",{className:"col",style:{padding:3,marginLeft:2},children:Object(s.jsx)("div",{className:"card",style:{width:300},children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h5",{className:"card-title",style:{color:"black"},children:e.movie.title+"'s Actors"}),Object(s.jsxs)("p",{children:["Movie Title: ",e.movie.title]}),Object(s.jsx)("label",{for:"",children:"Actors:"}),e.actors.map((function(e){return Object(s.jsx)("span",{class:"badge badge-pill badge-primary",children:e.name})}))]})})})}))})};var x=function(e){var t=Object(a.useState)(!1),c=Object(d.a)(t,2),n=c[0],i=c[1],l=Object(a.useState)(!1),o=Object(d.a)(l,2),m=o[0],u=o[1],x=Object(a.useState)(!1),f=Object(d.a)(x,2),p=f[0],N=f[1],g=Object(a.useState)([]),y=Object(d.a)(g,2),M=y[0],A=y[1],T=Object(a.useState)([]),w=Object(d.a)(T,2),C=w[0],k=w[1],S=function(){!function(e,t){fetch(r,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){t(e)}))}({title:document.getElementById("movieTitleTxt").value,release_date:document.getElementById("movieReleaseDateVal").value},(function(e){e&&e.success&&i(!0),document.getElementById("dismissMovieModalBtn").click()}))},B=function(){!function(e,t){fetch(j,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){t(e)}))}({name:document.getElementById("actorNameTxt").value,age:document.getElementById("actorAgeTxt").value,gender:document.querySelector("input[name = gender]:checked").value},(function(e){e&&e.success&&u(!0),document.getElementById("dismissActorModalBtn").click()}))};return Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col",children:[Object(s.jsxs)("div",{className:"nav nav-tabs",id:"dashboardTab",role:"tablist",children:[Object(s.jsx)("a",{className:"nav-item nav-link active","data-toggle":"tab",href:"#viewContent",role:"tab",children:"View/Edit"}),Object(s.jsx)("a",{className:"nav-item nav-link","data-toggle":"tab",href:"#manageCastContent",role:"tab",children:"Manage Cast"})]}),Object(s.jsxs)("div",{className:"tab-content",id:"tabDashboardContent",children:[Object(s.jsx)("div",{className:"tab-pane fade show active",id:"viewContent",role:"tabpanel",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("h3",{children:"Movies"}),Object(s.jsx)("div",{className:"btn-primary btn-lg",id:"createMovieBtn","data-toggle":"modal","data-target":"#addMovieModal",children:"Create Movie"}),Object(s.jsx)("div",{className:"modal fade",id:"addMovieModal",role:"dialog",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addMovieModalTitle",children:"Add New Movie"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:Object(s.jsx)("span",{children:"\xd7"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("label",{className:"input-group",for:"movieTitleTxt",children:"Title:"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"movieTitleTxt"})]}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("label",{className:"input-group",for:"movieReleaseDateVal",children:"Release Date:"}),Object(s.jsx)("input",{type:"date",className:"form-control",id:"movieReleaseDateVal"})]})]}),Object(s.jsxs)("div",{className:"modal-footer",children:[Object(s.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(e){S()},children:"Add"}),Object(s.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",id:"dismissMovieModalBtn",children:"Close"})]})]})})}),Object(s.jsx)("div",{className:"container",style:{marginLeft:15,marginTop:10},children:Object(s.jsx)(O,{loadMovies:n,loadMoviesList:function(e){A(e),i(!1)}})})]}),Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("h3",{children:"Actors"}),Object(s.jsx)("div",{className:"btn-primary btn-lg",id:"createActorBtn","data-toggle":"modal","data-target":"#addActorModal",children:"Create Actor"}),Object(s.jsx)("div",{className:"modal fade",id:"addActorModal",role:"dialog",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",id:"addActorModalTitle",children:"Add Actor"}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:Object(s.jsx)("span",{children:"\xd7"})})]}),Object(s.jsxs)("div",{className:"modal-body",children:[Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("label",{className:"input-group",for:"actorNameTxt",children:"Name:"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"actorNameTxt"})]}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("label",{className:"input-group",for:"actorAgeTxt",children:"Age:"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"actorAgeTxt"})]}),Object(s.jsx)("div",{className:"form-check-inline",children:Object(s.jsxs)("label",{className:"form-check-label",children:[Object(s.jsx)("input",{type:"radio",className:"form-check-input",name:"gender",value:"male"}),"Male"]})}),Object(s.jsx)("div",{class:"form-check-inline",children:Object(s.jsxs)("label",{className:"form-check-label",children:[Object(s.jsx)("input",{type:"radio",className:"form-check-input",name:"gender",value:"female"}),"Female"]})})]}),Object(s.jsxs)("div",{className:"modal-footer",children:[Object(s.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(e){B()},children:"Add"}),Object(s.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",id:"dismissActorModalBtn",children:"Close"})]})]})})}),Object(s.jsx)("div",{className:"container",style:{marginLeft:15,marginTop:10},children:Object(s.jsx)(h,{loadActors:m,loadActorsList:function(e){k(e),u(!1)}})})]})]})}),Object(s.jsx)("div",{className:"tab-pane fade",id:"manageCastContent",role:"tabpanel",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col",children:[Object(s.jsxs)("div",{className:"row",style:{marginTop:20},children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("select",{className:"custom-select",id:"selectedMovie",children:[Object(s.jsx)("option",{disabled:!0,selected:!0,children:"Select Movie"}),M.map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.title})}))]})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("select",{className:"custom-select",id:"selectedActor",children:[Object(s.jsx)("option",{disabled:!0,selected:!0,children:"Select Actor"}),C.map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.name})}))]})})]}),Object(s.jsx)("div",{className:"row",style:{marginTop:10},children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{className:"btn btn-success btn-lg btn-block",onClick:function(){var e,t,c;e=b,t={movie_id:document.getElementById("selectedMovie").value,actor_id:document.getElementById("selectedActor").value},c=function(e){e.success&&N(!0)},fetch(e,{method:"POST",body:JSON.stringify(t),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){c(e)}))},children:"Cast to the movie"})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(v,{isUpdated:p,disableIsUpdated:function(){return N(!1)}})})})]})})})]})]})})};var f=function(){return Object(s.jsxs)("div",{className:"App container-fluid",children:[Object(s.jsxs)("div",{className:"jumbotron",children:[Object(s.jsx)("h1",{children:"Casting Agency"}),Object(s.jsx)("p",{children:"Single place to view movies, actors and assign actors to the movies!!!!!"})]}),Object(s.jsx)(x,{})]})},p=(c(11),c(12),c(13),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,18)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),s(e),a(e),n(e),i(e)}))});l.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(f,{})}),document.getElementById("root")),p()}},[[17,1,2]]]);
//# sourceMappingURL=main.7325bc09.chunk.js.map