(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{13:function(e,t,c){},20:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c(1),n=c.n(s),i=c(6),l=c.n(i),d=(c(13),c(2)),o="".concat(window.location.origin,"/"),r=o+"v1/movies",j=o+"v1/actors",m=o+"v1/movies_cast",b=function(e){fetch(r).then((function(e){return e.json()})).then((function(t){t&&t.success&&e(t.data)}))},u=function(e){fetch(j).then((function(e){return e.json()})).then((function(t){t&&t.success&&e(t.data)}))};var h=function(e){var t=Object(s.useState)([]),c=Object(d.a)(t,2),n=c[0],i=c[1];return Object(s.useEffect)((function(t){u((function(t){i(t),e.loadActorsList(t)}))}),[]),Object(s.useEffect)((function(t){e.loadActors&&u((function(t){i(t),e.loadActorsList(t)}))}),[e.loadActors]),Object(a.jsx)("div",{className:"row",children:n.map((function(e){return Object(a.jsx)("div",{className:"col",style:{padding:3,marginLeft:2},children:Object(a.jsx)("div",{className:"card",style:{width:300},children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title",style:{color:"black"},children:e.name}),Object(a.jsxs)("p",{style:{color:"black"},children:["Age: ",e.age]}),Object(a.jsxs)("p",{style:{color:"black"},children:["Gender: ",e.gender]}),Object(a.jsx)("div",{className:"btn-success btn-sm text-center",id:"actor-id-btn-"+e.id,children:"Update"})]})})})}))})},v=c(7);var O=function(e){var t=Object(s.useState)([]),c=Object(d.a)(t,2),n=c[0],i=c[1];Object(s.useEffect)((function(t){b((function(t){console.log(t),i(t),e.loadMoviesList(t)}))}),[]),Object(s.useEffect)((function(t){e.loadMovies&&b((function(t){i(t),e.loadMoviesList(t)}))}),[e.loadMovies]);var l=function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";e=e.replace("GMT","");var c=new Date(e),a=c.getMonth()+1<10?"0"+(c.getMonth()+1):c.getMonth()+1;return"".concat(c.getFullYear()).concat(t).concat(a).concat(t).concat(c.getDate())}(e.release_date);return Object(a.jsx)("div",{className:"modal fade",id:"updateMovieModal_"+e.id,role:"dialog",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",id:"updateMovieModalTitle_"+e.id,children:"Update Movie"}),Object(a.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",id:"updateMovieModalDismiss_"+e.id,children:Object(a.jsx)("span",{children:"\xd7"})})]}),Object(a.jsxs)("div",{className:"modal-body",children:[Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"updateMovieTitleText_"+e.id,children:"Title:"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"updateMovieTitleText_"+e.id,defaultValue:e.title})]}),Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"updateMovieReleaseDateVal_"+e.id,children:"Release Date:"}),Object(a.jsx)("input",{type:"date",className:"form-control",id:"updateMovieReleaseDateVal_"+e.id,defaultValue:t})]})]}),Object(a.jsx)("div",{className:"modal-footer",children:Object(a.jsx)("button",{type:"button",style:{marginLeft:"auto",marginRight:"auto"},className:"btn btn-primary",onClick:function(t){o(e.id)},children:"Update"})})]})})})},o=function(e){document.getElementById("updateMovieModalDismiss_"+e).click();var t,c,a=document.getElementById("updateMovieTitleText_"+e).value,s=document.getElementById("updateMovieReleaseDateVal_"+e).value;console.log({title:a,release_date:s}),t={title:a,release_date:s},c=function(t){if(t.success&&t.data){var c=n.filter((function(t){return t.id!=e}));i([].concat(Object(v.a)(c),[t.data]))}},fetch(r+"/"+e,{method:"PATCH",body:t?JSON.stringify(t):null,headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){c&&c(e)}))};return Object(a.jsx)("div",{className:"row",children:n.map((function(e){return Object(a.jsxs)("div",{className:"col",style:{padding:3,marginLeft:2},children:[Object(a.jsx)("div",{className:"card",style:{width:300},children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title",style:{color:"black"},children:e.title}),Object(a.jsxs)("p",{children:["Releases on: ",new Date(e.release_date.replace("GMT","")).toDateString()]}),Object(a.jsx)("div",{className:"btn-success btn-sm text-center",id:"movie-id-btn-"+e.id,"data-toggle":"modal","data-target":"#updateMovieModal_"+e.id,style:{cursor:"pointer"},children:"Update"})]})}),l(e)]})}))})};var x=function(e){var t=Object(s.useState)([]),c=Object(d.a)(t,2),n=c[0],i=c[1];Object(s.useEffect)((function(e){l()}),[]),Object(s.useEffect)((function(t){console.log("Updated!!!!"),console.log(e.isUpdated),e.isUpdated&&l()}),[e.isUpdated]);var l=function(){var t;t=function(t){t.success&&(i(t.data),e.disableIsUpdated())},fetch(m).then((function(e){return e.json()})).then((function(e){t(e)}))};return Object(a.jsx)("div",{className:"row",children:n.map((function(e){return Object(a.jsx)("div",{className:"col",style:{padding:3,marginLeft:2},children:Object(a.jsx)("div",{className:"card",style:{width:300},children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title",style:{color:"black"},children:e.movie.title+"'s Actors"}),Object(a.jsxs)("p",{children:["Movie Title: ",e.movie.title]}),Object(a.jsx)("label",{for:"",children:"Actors:"}),e.actors.map((function(e){return Object(a.jsx)("span",{class:"badge badge-pill badge-primary",children:e.name})}))]})})})}))})};var p=function(e){var t=Object(s.useState)(!1),c=Object(d.a)(t,2),n=c[0],i=c[1],l=Object(s.useState)(!1),o=Object(d.a)(l,2),b=o[0],u=o[1],v=Object(s.useState)(!1),p=Object(d.a)(v,2),f=p[0],g=p[1],N=Object(s.useState)([]),y=Object(d.a)(N,2),M=y[0],T=y[1],A=Object(s.useState)([]),w=Object(d.a)(A,2),C=w[0],k=w[1],S=function(){!function(e,t){fetch(r,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){t(e)}))}({title:document.getElementById("movieTitleTxt").value,release_date:document.getElementById("movieReleaseDateVal").value},(function(e){e&&e.success&&i(!0),document.getElementById("dismissMovieModalBtn").click()}))},B=function(){!function(e,t){fetch(j,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){t(e)}))}({name:document.getElementById("actorNameTxt").value,age:document.getElementById("actorAgeTxt").value,gender:document.querySelector("input[name = gender]:checked").value},(function(e){e&&e.success&&u(!0),document.getElementById("dismissActorModalBtn").click()}))};return Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsxs)("div",{className:"nav nav-tabs",id:"dashboardTab",role:"tablist",children:[Object(a.jsx)("a",{className:"nav-item nav-link active","data-toggle":"tab",href:"#viewContent",role:"tab",children:"View/Edit"}),Object(a.jsx)("a",{className:"nav-item nav-link","data-toggle":"tab",href:"#manageCastContent",role:"tab",children:"Manage Cast"})]}),Object(a.jsxs)("div",{className:"tab-content",id:"tabDashboardContent",children:[Object(a.jsx)("div",{className:"tab-pane fade show active",id:"viewContent",role:"tabpanel",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("h3",{children:"Movies"}),Object(a.jsx)("div",{className:"btn-primary btn-lg",id:"createMovieBtn","data-toggle":"modal","data-target":"#addMovieModal",children:"Create Movie"}),Object(a.jsx)("div",{className:"modal fade",id:"addMovieModal",role:"dialog",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",id:"addMovieModalTitle",children:"Add New Movie"}),Object(a.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:Object(a.jsx)("span",{children:"\xd7"})})]}),Object(a.jsxs)("div",{className:"modal-body",children:[Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"movieTitleTxt",children:"Title:"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"movieTitleTxt"})]}),Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"movieReleaseDateVal",children:"Release Date:"}),Object(a.jsx)("input",{type:"date",className:"form-control",id:"movieReleaseDateVal"})]})]}),Object(a.jsxs)("div",{className:"modal-footer",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(e){S()},children:"Add"}),Object(a.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",id:"dismissMovieModalBtn",children:"Close"})]})]})})}),Object(a.jsx)("div",{className:"container",style:{marginLeft:15,marginTop:10},children:Object(a.jsx)(O,{loadMovies:n,loadMoviesList:function(e){T(e),i(!1)}})})]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("h3",{children:"Actors"}),Object(a.jsx)("div",{className:"btn-primary btn-lg",id:"createActorBtn","data-toggle":"modal","data-target":"#addActorModal",children:"Create Actor"}),Object(a.jsx)("div",{className:"modal fade",id:"addActorModal",role:"dialog",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",id:"addActorModalTitle",children:"Add Actor"}),Object(a.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:Object(a.jsx)("span",{children:"\xd7"})})]}),Object(a.jsxs)("div",{className:"modal-body",children:[Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"actorNameTxt",children:"Name:"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"actorNameTxt"})]}),Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"actorAgeTxt",children:"Age:"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"actorAgeTxt"})]}),Object(a.jsx)("div",{className:"form-check-inline",children:Object(a.jsxs)("label",{className:"form-check-label",children:[Object(a.jsx)("input",{type:"radio",className:"form-check-input",name:"gender",value:"male"}),"Male"]})}),Object(a.jsx)("div",{class:"form-check-inline",children:Object(a.jsxs)("label",{className:"form-check-label",children:[Object(a.jsx)("input",{type:"radio",className:"form-check-input",name:"gender",value:"female"}),"Female"]})})]}),Object(a.jsxs)("div",{className:"modal-footer",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(e){B()},children:"Add"}),Object(a.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",id:"dismissActorModalBtn",children:"Close"})]})]})})}),Object(a.jsx)("div",{className:"container",style:{marginLeft:15,marginTop:10},children:Object(a.jsx)(h,{loadActors:b,loadActorsList:function(e){k(e),u(!1)}})})]})]})}),Object(a.jsx)("div",{className:"tab-pane fade",id:"manageCastContent",role:"tabpanel",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsxs)("div",{className:"row",style:{marginTop:20},children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("select",{className:"custom-select",id:"selectedMovie",children:[Object(a.jsx)("option",{disabled:!0,selected:!0,children:"Select Movie"}),M.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.title})}))]})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("select",{className:"custom-select",id:"selectedActor",children:[Object(a.jsx)("option",{disabled:!0,selected:!0,children:"Select Actor"}),C.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name})}))]})})]}),Object(a.jsx)("div",{className:"row",style:{marginTop:10},children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"btn btn-success btn-lg btn-block",onClick:function(){var e,t,c;e=m,t={movie_id:document.getElementById("selectedMovie").value,actor_id:document.getElementById("selectedActor").value},c=function(e){e.success&&g(!0)},fetch(e,{method:"POST",body:JSON.stringify(t),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){c(e)}))},children:"Cast to the movie"})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(x,{isUpdated:f,disableIsUpdated:function(){return g(!1)}})})})]})})})]})]})})};var f=function(){return Object(a.jsxs)("div",{className:"App container-fluid",children:[Object(a.jsxs)("div",{className:"jumbotron",children:[Object(a.jsx)("h1",{children:"Casting Agency"}),Object(a.jsx)("p",{children:"Single place to view movies, actors and assign actors to the movies!!!!!"})]}),Object(a.jsx)(p,{})]})},g=(c(14),c(15),c(16),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,21)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),a(e),s(e),n(e),i(e)}))});l.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(f,{})}),document.getElementById("root")),g()}},[[20,1,2]]]);
//# sourceMappingURL=main.4a5bc17d.chunk.js.map