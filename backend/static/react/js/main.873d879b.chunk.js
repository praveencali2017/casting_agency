(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{10:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c(1),n=c.n(s),i=c(4),l=c.n(i),d=(c(10),c(2)),o="".concat(window.location.origin,"/"),r=o+"v1/movies",j=o+"v1/actors",m=o+"v1/movies_cast",u=function(e,t,c,a){fetch(e,{method:t,body:c?JSON.stringify(c):null,headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a&&a(e)}))};var b=function(e){var t=Object(s.useState)([]),c=Object(d.a)(t,2),n=c[0],i=c[1];Object(s.useEffect)((function(e){l()}),[]),Object(s.useEffect)((function(t){e.loadActors&&l()}),[e.loadActors]);var l=function(){var t;t=function(t){i(t),e.loadActorsList(t)},fetch(j).then((function(e){return e.json()})).then((function(e){e&&e.success&&t(e.data)}))};return Object(a.jsx)("div",{className:"row",children:n.map((function(t){return Object(a.jsx)("div",{className:"col",style:{padding:3,marginLeft:2},children:Object(a.jsx)("div",{className:"card",style:{width:300},children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title",style:{color:"black"},children:t.name}),Object(a.jsxs)("p",{style:{color:"black"},children:["Age: ",t.age]}),Object(a.jsxs)("p",{style:{color:"black"},children:["Gender: ",t.gender]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"btn-success btn-sm text-center",id:"actorUpdateBtnContainer"+t.id,"data-toggle":"modal","data-target":"#updateActorModal",style:{cursor:"pointer"},onClick:function(c){return e.chooseUpdate(t)},children:"Update"})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"btn-danger btn-sm text-center",id:"deleteActor_"+t.id,style:{cursor:"pointer"},onClick:function(c){return function(t){window.confirm("Are you sure you want to delete the actor ".concat(t.name," ?"))&&u(j+"/"+t.id,"DELETE",null,(function(t){t.success&&(e.isActorDeleted(),l())}))}(t)},children:"Delete"})})]})]})})})}))})};var h=function(e){var t=Object(s.useState)([]),c=Object(d.a)(t,2),n=c[0],i=c[1];Object(s.useEffect)((function(e){l()}),[]),Object(s.useEffect)((function(t){e.loadMovies&&l()}),[e.loadMovies]);var l=function(){var t;t=function(t){i(t),e.loadMoviesList(t)},fetch(r).then((function(e){return e.json()})).then((function(e){e&&e.success&&t(e.data)}))};return Object(a.jsx)("div",{className:"row",children:n.map((function(t){return Object(a.jsx)("div",{className:"col",style:{padding:3,marginLeft:2},children:Object(a.jsx)("div",{className:"card bg-light mb-3",style:{width:300},children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title",style:{color:"black"},children:t.title}),Object(a.jsxs)("p",{children:["Releases on: ",new Date(t.release_date.replace("GMT","")).toDateString()]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"btn-success btn-sm text-center",id:"movie-id-btn-"+t.id,"data-toggle":"modal","data-target":"#updateMovieModal",style:{cursor:"pointer"},onClick:function(c){return e.chooseUpdate(t)},children:"Update"})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"btn-danger btn-sm text-center",id:"deleteMovie_"+t.id,style:{cursor:"pointer"},onClick:function(c){return function(t){window.confirm("Are you sure you want to delete the movie ".concat(t.title," ?"))&&u(r+"/"+t.id,"DELETE",null,(function(t){t.success&&(e.isMovieDeleted(),l())}))}(t)},children:"Delete"})})]})]})})})}))})};var v=function(e){var t=Object(s.useState)([]),c=Object(d.a)(t,2),n=c[0],i=c[1];Object(s.useEffect)((function(e){l()}),[]),Object(s.useEffect)((function(t){e.isUpdated&&l()}),[e.isUpdated]);var l=function(){var t;t=function(t){t.success&&(i(t.data),e.disableIsUpdated())},fetch(m).then((function(e){return e.json()})).then((function(e){t(e)}))};return Object(a.jsx)("div",{className:"row",children:n.map((function(e){return Object(a.jsx)("div",{className:"col",style:{padding:3,marginLeft:2},children:Object(a.jsx)("div",{className:"card",style:{width:300},children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title",style:{color:"black"},children:e.movie.title+"'s Actors"}),Object(a.jsxs)("p",{children:["Movie Title: ",e.movie.title]}),Object(a.jsx)("label",{children:"Actors:"}),e.actors.map((function(t){return Object(a.jsxs)("button",{class:"btn btn-primary btn-sm",style:{margin:2},children:[t.name," ",Object(a.jsx)("span",{class:"badge badge-light",onClick:function(c){return function(e,t){window.confirm("This action will remove ".concat(t.name," from the movie ").concat(e.title," ?"))&&u(m+"?actor_id=".concat(t.id,"&movie_id=").concat(e.id),"DELETE",null,(function(e){e.success&&l()}))}(e.movie,t)},children:"\xd7"})]})}))]})})})}))})};var O=function(e){var t=Object(s.useState)(!1),c=Object(d.a)(t,2),n=c[0],i=c[1],l=Object(s.useState)(!1),o=Object(d.a)(l,2),O=o[0],x=o[1],p=Object(s.useState)(!1),f=Object(d.a)(p,2),g=f[0],N=f[1],y=Object(s.useState)([]),M=Object(d.a)(y,2),A=M[0],T=M[1],k=Object(s.useState)([]),C=Object(d.a)(k,2),w=C[0],E=C[1],D=Object(s.useState)({}),S=Object(d.a)(D,2),B=S[0],I=S[1],L=Object(s.useState)({}),U=Object(d.a)(L,2),_=U[0],R=U[1],V=function(){!function(e,t){fetch(r,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){t(e)}))}({title:document.getElementById("movieTitleTxt").value,release_date:document.getElementById("movieReleaseDateVal").value},(function(e){e&&e.success&&i(!0),document.getElementById("dismissMovieModalBtn").click()}))},F=function(){!function(e,t){fetch(j,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){t(e)}))}({name:document.getElementById("actorNameTxt").value,age:document.getElementById("actorAgeTxt").value,gender:document.querySelector("input[name = gender]:checked").value},(function(e){e&&e.success&&x(!0),document.getElementById("dismissActorModalBtn").click()}))},P=function(){var e=B.id,t=document.querySelector("input[name='updateActorGender']:checked").value,c=document.getElementById("updateActorTitleText").value,a=document.getElementById("updateActorAgeVal").value;I({id:e,gender:t,name:c,age:a})},G=function(){var e=_.id,t=document.getElementById("updateMovieTitleText").value,c=document.getElementById("updateMovieReleaseDateVal").value;R({id:e,title:t,release_date:c})},H=function(e){document.getElementById("updateActorModalDismiss").click(),u(j+"/"+e,"PATCH",B,(function(e){e.success&&x(!0)}))},J=function(e){document.getElementById("updateMovieModalDismiss").click(),u(r+"/"+e,"PATCH",_,(function(e){e.success&&i(!0)}))};return Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsxs)("div",{className:"nav nav-tabs",id:"dashboardTab",role:"tablist",children:[Object(a.jsx)("a",{className:"nav-item nav-link active","data-toggle":"tab",href:"#viewContent",role:"tab",children:"View/Edit"}),Object(a.jsx)("a",{className:"nav-item nav-link","data-toggle":"tab",href:"#manageCastContent",role:"tab",children:"Manage Cast"})]}),Object(a.jsxs)("div",{className:"tab-content",id:"tabDashboardContent",children:[Object(a.jsx)("div",{className:"tab-pane fade show active",id:"viewContent",role:"tabpanel",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("h3",{children:"Movies"}),Object(a.jsx)("div",{className:"btn-primary btn-lg",id:"createMovieBtn","data-toggle":"modal","data-target":"#addMovieModal",children:"Create Movie"}),Object(a.jsx)("div",{className:"modal fade",id:"addMovieModal",role:"dialog",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",id:"addMovieModalTitle",children:"Add New Movie"}),Object(a.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:Object(a.jsx)("span",{children:"\xd7"})})]}),Object(a.jsxs)("div",{className:"modal-body",children:[Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"movieTitleTxt",children:"Title:"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"movieTitleTxt"})]}),Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"movieReleaseDateVal",children:"Release Date:"}),Object(a.jsx)("input",{type:"date",className:"form-control",id:"movieReleaseDateVal"})]})]}),Object(a.jsxs)("div",{className:"modal-footer",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(e){V()},children:"Add"}),Object(a.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",id:"dismissMovieModalBtn",children:"Close"})]})]})})}),Object(a.jsx)("div",{className:"container",style:{marginLeft:15,marginTop:10},children:Object(a.jsx)(h,{loadMovies:n,isMovieDeleted:function(e){N(!0)},loadMoviesList:function(e){T(e),i(!1)},chooseUpdate:R})}),function(){var e=_.release_date?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";e=e.replace("GMT","");var c=new Date(e+" "),a=c.getMonth()+1<10?"0"+(c.getMonth()+1):c.getMonth()+1;return"".concat(c.getFullYear()).concat(t).concat(a).concat(t).concat(c.getDate())}(_.release_date):"";return Object(a.jsx)("div",{className:"modal fade",id:"updateMovieModal",role:"dialog",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",children:"Update Movie"}),Object(a.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",id:"updateMovieModalDismiss",children:Object(a.jsx)("span",{children:"\xd7"})})]}),Object(a.jsxs)("div",{className:"modal-body",children:[Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"updateMovieTitleText",children:"Title:"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"updateMovieTitleText",value:_.title,onChange:G})]}),Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"updateMovieReleaseDateVal",children:"Release Date:"}),Object(a.jsx)("input",{type:"date",className:"form-control",id:"updateMovieReleaseDateVal",value:e,onChange:G})]})]}),Object(a.jsx)("div",{className:"modal-footer",children:Object(a.jsx)("button",{type:"button",style:{marginLeft:"auto",marginRight:"auto"},className:"btn btn-primary",onClick:function(e){J(_.id)},children:"Update"})})]})})})}()]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("h3",{children:"Actors"}),Object(a.jsx)("div",{className:"btn-primary btn-lg",id:"createActorBtn","data-toggle":"modal","data-target":"#addActorModal",children:"Create Actor"}),Object(a.jsx)("div",{className:"modal fade",id:"addActorModal",role:"dialog",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",id:"addActorModalTitle",children:"Add Actor"}),Object(a.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:Object(a.jsx)("span",{children:"\xd7"})})]}),Object(a.jsxs)("div",{className:"modal-body",children:[Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"actorNameTxt",children:"Name:"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"actorNameTxt"})]}),Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"actorAgeTxt",children:"Age:"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"actorAgeTxt"})]}),Object(a.jsx)("div",{className:"form-check-inline",children:Object(a.jsxs)("label",{className:"form-check-label",children:[Object(a.jsx)("input",{type:"radio",className:"form-check-input",name:"gender",value:"male"}),"Male"]})}),Object(a.jsx)("div",{class:"form-check-inline",children:Object(a.jsxs)("label",{className:"form-check-label",children:[Object(a.jsx)("input",{type:"radio",className:"form-check-input",name:"gender",value:"female"}),"Female"]})})]}),Object(a.jsxs)("div",{className:"modal-footer",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(e){F()},children:"Add"}),Object(a.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",id:"dismissActorModalBtn",children:"Close"})]})]})})}),Object(a.jsx)("div",{className:"container",style:{marginLeft:15,marginTop:10},children:Object(a.jsx)(b,{loadActors:O,isActorDeleted:function(e){N(!0)},loadActorsList:function(e){E(e),x(!1)},chooseUpdate:I})}),Object(a.jsx)("div",{className:"modal fade",id:"updateActorModal",role:"dialog",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",id:"updateActorModalTitle",children:"Update Actor"}),Object(a.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",id:"updateActorModalDismiss",children:Object(a.jsx)("span",{children:"\xd7"})})]}),Object(a.jsxs)("div",{className:"modal-body",children:[Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"updateActorTitleText",children:"Name:"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"updateActorTitleText",value:B.name,onChange:P})]}),Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"updateActorAgeVal",children:"Age:"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"updateActorAgeVal",value:B.age,onChange:P})]}),Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("div",{className:"form-check-inline",children:Object(a.jsxs)("label",{className:"form-check-label",children:[Object(a.jsx)("input",{type:"radio",className:"form-check-input",name:"updateActorGender",value:"male",checked:"male"===B.gender&&"checked",onChange:P}),"Male"]})}),Object(a.jsx)("div",{class:"form-check-inline",children:Object(a.jsxs)("label",{className:"form-check-label",children:[Object(a.jsx)("input",{type:"radio",className:"form-check-input",name:"updateActorGender",value:"female",checked:"female"===B.gender&&"checked",onChange:P}),"Female"]})})]})]}),Object(a.jsx)("div",{className:"modal-footer",children:Object(a.jsx)("button",{type:"button",style:{marginLeft:"auto",marginRight:"auto"},className:"btn btn-primary",onClick:function(e){H(B.id)},children:"Update"})})]})})})]})]})}),Object(a.jsx)("div",{className:"tab-pane fade",id:"manageCastContent",role:"tabpanel",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsxs)("div",{className:"row",style:{marginTop:20},children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("select",{className:"custom-select",id:"selectedMovie",children:[Object(a.jsx)("option",{disabled:!0,selected:!0,children:"Select Movie"}),A.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.title})}))]})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("select",{className:"custom-select",id:"selectedActor",children:[Object(a.jsx)("option",{disabled:!0,selected:!0,children:"Select Actor"}),w.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name})}))]})})]}),Object(a.jsx)("div",{className:"row",style:{marginTop:10},children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"btn btn-success btn-lg btn-block",onClick:function(){var e,t,c;e=m,t={movie_id:document.getElementById("selectedMovie").value,actor_id:document.getElementById("selectedActor").value},c=function(e){e.success&&N(!0)},fetch(e,{method:"POST",body:JSON.stringify(t),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){c(e)}))},children:"Cast to the movie"})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(v,{isUpdated:g,disableIsUpdated:function(){return N(!1)}})})})]})})})]})]})})};var x=function(){return Object(a.jsxs)("div",{className:"App container-fluid",children:[Object(a.jsxs)("div",{className:"jumbotron",children:[Object(a.jsx)("h1",{children:"Casting Agency"}),Object(a.jsx)("p",{children:"Single place to view movies, actors and assign actors to the movies!!!!!"})]}),Object(a.jsx)(O,{})]})},p=(c(11),c(12),c(13),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,18)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),a(e),s(e),n(e),i(e)}))});l.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(x,{})}),document.getElementById("root")),p()}},[[17,1,2]]]);
//# sourceMappingURL=main.873d879b.chunk.js.map