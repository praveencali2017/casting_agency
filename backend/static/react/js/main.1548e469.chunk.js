(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{15:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c(1),n=c(5),i=c.n(n),l=(c(15),c(8)),o=c.n(l),d=c(9),r=c(2),j=c(6),m="".concat(window.location.origin,"/"),u=m+"v1/movies",b=m+"v1/actors",h=m+"v1/movies_cast",v=function(e,t,c,a,s){null!=s?fetch(e,{method:t,body:c?JSON.stringify(c):null,headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(s)})}).then((function(e){return e.json()})).then((function(e){!e.success&&e.auth_error&&j.b.error(e.description,{position:"bottom-center"}),a&&a(e)})).catch((function(e){console.log(e)})):console.log("No Authorized token is set!!!!")};var O=function(e){var t=Object(s.useState)([]),c=Object(r.a)(t,2),n=c[0],i=c[1];Object(s.useEffect)((function(e){l()}),[]),Object(s.useEffect)((function(e){l()}),[e.appToken]),Object(s.useEffect)((function(t){e.loadActors&&l()}),[e.loadActors]);var l=function(){var t,c;e.appToken&&(t=function(t){i(t),e.loadActorsList(t)},c=e.appToken,v(b,"GET",null,(function(e){e&&e.success&&t(e.data)}),c))};return Object(a.jsx)("div",{className:"row",children:n.map((function(t){return Object(a.jsx)("div",{className:"col",style:{padding:3,marginLeft:2},children:Object(a.jsx)("div",{className:"card",style:{width:300},children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title",style:{color:"black"},children:t.name}),Object(a.jsxs)("p",{style:{color:"black"},children:["Age: ",t.age]}),Object(a.jsxs)("p",{style:{color:"black"},children:["Gender: ",t.gender]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"btn-success btn-sm text-center",id:"actorUpdateBtnContainer"+t.id,"data-toggle":"modal","data-target":"#updateActorModal",style:{cursor:"pointer"},onClick:function(c){return e.chooseUpdate(t)},children:"Update"})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"btn-danger btn-sm text-center",id:"deleteActor_"+t.id,style:{cursor:"pointer"},onClick:function(c){return function(t){window.confirm("Are you sure you want to delete the actor ".concat(t.name," ?"))&&v(b+"/"+t.id,"DELETE",null,(function(t){t.success&&(e.isActorDeleted(),l())}))}(t)},children:"Delete"})})]})]})})})}))})},p=c(3);var x=function(e){var t=Object(s.useState)([]),c=Object(r.a)(t,2),n=c[0],i=c[1];Object(s.useEffect)((function(e){l()}),[]),Object(s.useEffect)((function(e){l()}),[e.appToken]),Object(s.useEffect)((function(t){e.loadMovies&&l()}),[e.loadMovies]);var l=function(){var t,c;e.appToken&&(t=function(t){i(t),e.loadMoviesList(t)},c=e.appToken,v(u,"GET",null,(function(e){e&&e.success&&t(e.data)}),c))};return Object(a.jsx)("div",{className:"row",children:n.map((function(t){return Object(a.jsx)("div",{className:"col",style:{padding:3,marginLeft:2},children:Object(a.jsx)("div",{className:"card bg-light mb-3",style:{width:300},children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title",style:{color:"black"},children:t.title}),Object(a.jsxs)("p",{children:["Releases on: ",new Date(t.release_date.replace("GMT","")).toDateString()]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"btn-success btn-sm text-center",id:"movie-id-btn-"+t.id,"data-toggle":"modal","data-target":"#updateMovieModal",style:{cursor:"pointer"},onClick:function(c){return e.chooseUpdate(t)},children:"Update"})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"btn-danger btn-sm text-center",id:"deleteMovie_"+t.id,style:{cursor:"pointer"},onClick:function(c){return function(t){window.confirm("Are you sure you want to delete the movie ".concat(t.title," ?"))&&v(u+"/"+t.id,"DELETE",null,(function(t){t.success&&(e.isMovieDeleted(),l())}),e.appToken)}(t)},children:"Delete"})})]})]})})})}))})};var f=function(e){var t=Object(s.useState)([]),c=Object(r.a)(t,2),n=c[0],i=c[1],l=Object(s.useState)(!1),o=Object(r.a)(l,2);o[0],o[1],Object(s.useEffect)((function(e){d()}),[]),Object(s.useEffect)((function(e){d()}),[e.appToken]),Object(s.useEffect)((function(t){e.isUpdated&&d()}),[e.isUpdated]);var d=function(){v(h,"GET",null,(function(t){t.success?(e.updateShowContent(!0),i(t.data),e.disableIsUpdated()):e.updateShowContent(!1)}),e.appToken)};return Object(a.jsx)("div",{className:"row",children:n.map((function(t){return Object(a.jsx)("div",{className:"col",style:{padding:3,marginLeft:2},children:Object(a.jsx)("div",{className:"card",style:{width:300},children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title",style:{color:"black"},children:t.movie.title+"'s Actors"}),Object(a.jsxs)("p",{children:["Movie Title: ",t.movie.title]}),Object(a.jsx)("label",{children:"Actors:"}),t.actors.map((function(c){return Object(a.jsxs)("button",{class:"btn btn-primary btn-sm",style:{margin:2},children:[c.name," ",Object(a.jsx)("span",{class:"badge badge-light",onClick:function(a){return function(t,c){window.confirm("This action will remove ".concat(c.name," from the movie ").concat(t.title," ?"))&&v(h+"?actor_id=".concat(c.id,"&movie_id=").concat(t.id),"DELETE",null,(function(e){e.success&&d()}),e.appToken)}(t.movie,c)},children:"\xd7"})]})}))]})})})}))})};var g=function(e){var t=Object(p.b)(),c=t.isAuthenticated,s=t.loginWithRedirect,n=t.logout,i=t.user;return Object(a.jsxs)("div",{children:[c&&Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col",children:["Hello ",i.name]})}),Object(a.jsx)("div",{className:"row",children:c?Object(a.jsx)("div",{className:"col-2",children:Object(a.jsx)("div",{className:"btn-danger btn-sm",onClick:function(){e.resetAppToken(),n()},children:"Logout"})}):Object(a.jsx)("div",{className:"col-2",children:Object(a.jsx)("div",{className:"btn-success btn-sm",onClick:function(){return s()},children:"Login"})})})]})};var N=function(e){var t=Object(s.useState)(!1),c=Object(r.a)(t,2),n=c[0],i=c[1],l=Object(s.useState)(!1),j=Object(r.a)(l,2),m=j[0],N=j[1],A=Object(s.useState)(!1),y=Object(r.a)(A,2),T=y[0],k=y[1],M=Object(s.useState)([]),E=Object(r.a)(M,2),C=E[0],_=E[1],w=Object(s.useState)([]),D=Object(r.a)(w,2),S=D[0],I=D[1],U=Object(s.useState)({}),P=Object(r.a)(U,2),L=P[0],B=P[1],R=Object(s.useState)({}),H=Object(r.a)(R,2),V=H[0],F=H[1],G=Object(s.useState)(null),q=Object(r.a)(G,2),z=q[0],W=q[1],J=Object(s.useState)(!0),K=Object(r.a)(J,2),Y=K[0],Q=K[1],X=Object(p.b)(),Z=X.getAccessTokenSilently,$=X.loginWithRedirect;Object(s.useEffect)((function(e){Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,Z({audience:"casting"});case 4:t=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),"login_required"===e.t0.error&&$(),"consent_required"===e.t0.error&&$();case 11:W(t);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})))()}),[]);var ee=function(){!function(e,t,c){v(u,"POST",e,t,c)}({title:document.getElementById("movieTitleTxt").value,release_date:document.getElementById("movieReleaseDateVal").value},(function(e){e&&e.success&&i(!0),document.getElementById("dismissMovieModalBtn").click()}),z)},te=function(){!function(e,t,c){v(b,"POST",e,t,c)}({name:document.getElementById("actorNameTxt").value,age:document.getElementById("actorAgeTxt").value,gender:document.querySelector("input[name = gender]:checked").value},(function(e){e&&e.success&&N(!0),document.getElementById("dismissActorModalBtn").click()}),z)},ce=function(){var e=L.id,t=document.querySelector("input[name='updateActorGender']:checked").value,c=document.getElementById("updateActorTitleText").value,a=document.getElementById("updateActorAgeVal").value;B({id:e,gender:t,name:c,age:a})},ae=function(){var e=V.id,t=document.getElementById("updateMovieTitleText").value,c=document.getElementById("updateMovieReleaseDateVal").value;F({id:e,title:t,release_date:c})},se=function(e){document.getElementById("updateActorModalDismiss").click(),v(b+"/"+e,"PATCH",L,(function(e){e.success&&N(!0)}))},ne=function(e){document.getElementById("updateMovieModalDismiss").click(),v(u+"/"+e,"PATCH",V,(function(e){e.success&&i(!0)}),z)};return Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsxs)("div",{className:"nav nav-tabs",id:"dashboardTab",role:"tablist",children:[Object(a.jsx)("a",{className:"nav-item nav-link active","data-toggle":"tab",href:"#loginLogout",role:"tab",children:"Login/Logout"}),Object(a.jsx)("a",{className:"nav-item nav-link","data-toggle":"tab",href:"#viewContent",role:"tab",children:"View/Edit"}),Object(a.jsx)("a",{className:"nav-item nav-link","data-toggle":"tab",href:"#manageCastContent",role:"tab",children:"Manage Cast"})]}),Object(a.jsxs)("div",{className:"tab-content",id:"tabDashboardContent",children:[Object(a.jsx)("div",{className:"tab-pane fade show active",id:"loginLogout",role:"tabpanel",children:Object(a.jsx)(g,{resetAppToken:function(){return W(null)}})}),Object(a.jsx)("div",{className:"tab-pane fade",id:"viewContent",role:"tabpanel",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("h3",{children:"Movies"}),Object(a.jsx)("div",{className:"btn-primary btn-lg",id:"createMovieBtn","data-toggle":"modal","data-target":"#addMovieModal",children:"Create Movie"}),Object(a.jsx)("div",{className:"modal fade",id:"addMovieModal",role:"dialog",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",id:"addMovieModalTitle",children:"Add New Movie"}),Object(a.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:Object(a.jsx)("span",{children:"\xd7"})})]}),Object(a.jsxs)("div",{className:"modal-body",children:[Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"movieTitleTxt",children:"Title:"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"movieTitleTxt"})]}),Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"movieReleaseDateVal",children:"Release Date:"}),Object(a.jsx)("input",{type:"date",className:"form-control",id:"movieReleaseDateVal"})]})]}),Object(a.jsxs)("div",{className:"modal-footer",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(e){ee()},children:"Add"}),Object(a.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",id:"dismissMovieModalBtn",children:"Close"})]})]})})}),Object(a.jsx)("div",{className:"container",style:{marginLeft:15,marginTop:10},children:Object(a.jsx)(x,{loadMovies:n,appToken:z,isMovieDeleted:function(e){k(!0)},loadMoviesList:function(e){_(e),i(!1)},chooseUpdate:F})}),function(){var e=V.release_date?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";e=e.replace("GMT","");var c=new Date(e+" "),a=c.getMonth()+1<10?"0"+(c.getMonth()+1):c.getMonth()+1;return"".concat(c.getFullYear()).concat(t).concat(a).concat(t).concat(c.getDate())}(V.release_date):"";return Object(a.jsx)("div",{className:"modal fade",id:"updateMovieModal",role:"dialog",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",children:"Update Movie"}),Object(a.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",id:"updateMovieModalDismiss",children:Object(a.jsx)("span",{children:"\xd7"})})]}),Object(a.jsxs)("div",{className:"modal-body",children:[Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"updateMovieTitleText",children:"Title:"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"updateMovieTitleText",value:V.title,onChange:ae})]}),Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"updateMovieReleaseDateVal",children:"Release Date:"}),Object(a.jsx)("input",{type:"date",className:"form-control",id:"updateMovieReleaseDateVal",value:e,onChange:ae})]})]}),Object(a.jsx)("div",{className:"modal-footer",children:Object(a.jsx)("button",{type:"button",style:{marginLeft:"auto",marginRight:"auto"},className:"btn btn-primary",onClick:function(e){ne(V.id)},children:"Update"})})]})})})}()]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("h3",{children:"Actors"}),Object(a.jsx)("div",{className:"btn-primary btn-lg",id:"createActorBtn","data-toggle":"modal","data-target":"#addActorModal",children:"Create Actor"}),Object(a.jsx)("div",{className:"modal fade",id:"addActorModal",role:"dialog",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",id:"addActorModalTitle",children:"Add Actor"}),Object(a.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:Object(a.jsx)("span",{children:"\xd7"})})]}),Object(a.jsxs)("div",{className:"modal-body",children:[Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"actorNameTxt",children:"Name:"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"actorNameTxt"})]}),Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"actorAgeTxt",children:"Age:"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"actorAgeTxt"})]}),Object(a.jsx)("div",{className:"form-check-inline",children:Object(a.jsxs)("label",{className:"form-check-label",children:[Object(a.jsx)("input",{type:"radio",className:"form-check-input",name:"gender",value:"male"}),"Male"]})}),Object(a.jsx)("div",{class:"form-check-inline",children:Object(a.jsxs)("label",{className:"form-check-label",children:[Object(a.jsx)("input",{type:"radio",className:"form-check-input",name:"gender",value:"female"}),"Female"]})})]}),Object(a.jsxs)("div",{className:"modal-footer",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(e){te()},children:"Add"}),Object(a.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",id:"dismissActorModalBtn",children:"Close"})]})]})})}),Object(a.jsx)("div",{className:"container",style:{marginLeft:15,marginTop:10},children:Object(a.jsx)(O,{appToken:z,loadActors:m,isActorDeleted:function(e){k(!0)},loadActorsList:function(e){I(e),N(!1)},chooseUpdate:B})}),Object(a.jsx)("div",{className:"modal fade",id:"updateActorModal",role:"dialog",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",id:"updateActorModalTitle",children:"Update Actor"}),Object(a.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",id:"updateActorModalDismiss",children:Object(a.jsx)("span",{children:"\xd7"})})]}),Object(a.jsxs)("div",{className:"modal-body",children:[Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"updateActorTitleText",children:"Name:"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"updateActorTitleText",value:L.name,onChange:ce})]}),Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-group",for:"updateActorAgeVal",children:"Age:"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"updateActorAgeVal",value:L.age,onChange:ce})]}),Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("div",{className:"form-check-inline",children:Object(a.jsxs)("label",{className:"form-check-label",children:[Object(a.jsx)("input",{type:"radio",className:"form-check-input",name:"updateActorGender",value:"male",checked:"male"===L.gender&&"checked",onChange:ce}),"Male"]})}),Object(a.jsx)("div",{class:"form-check-inline",children:Object(a.jsxs)("label",{className:"form-check-label",children:[Object(a.jsx)("input",{type:"radio",className:"form-check-input",name:"updateActorGender",value:"female",checked:"female"===L.gender&&"checked",onChange:ce}),"Female"]})})]})]}),Object(a.jsx)("div",{className:"modal-footer",children:Object(a.jsx)("button",{type:"button",style:{marginLeft:"auto",marginRight:"auto"},className:"btn btn-primary",onClick:function(e){se(L.id)},children:"Update"})})]})})})]})]})}),Object(a.jsx)("div",{className:"tab-pane fade",id:"manageCastContent",role:"tabpanel",children:Object(a.jsx)("div",{className:"row",children:Y?Object(a.jsxs)("div",{className:"col",children:[Object(a.jsxs)("div",{className:"row",style:{marginTop:20},children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("select",{className:"custom-select",id:"selectedMovie",children:[Object(a.jsx)("option",{disabled:!0,selected:!0,children:"Select Movie"}),C.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.title})}))]})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("select",{className:"custom-select",id:"selectedActor",children:[Object(a.jsx)("option",{disabled:!0,selected:!0,children:"Select Actor"}),S.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name})}))]})})]}),Object(a.jsx)("div",{className:"row",style:{marginTop:10},children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"btn btn-success btn-lg btn-block",onClick:function(){v(h,"POST",{movie_id:document.getElementById("selectedMovie").value,actor_id:document.getElementById("selectedActor").value},(function(e){e.success&&k(!0)}),z)},children:"Cast to the movie"})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(f,{updateShowContent:Q,appToken:z,isUpdated:T,disableIsUpdated:function(){return k(!1)}})})})]}):Object(a.jsx)("div",{className:"col d-flex justify-content-center",style:{marginTop:100},children:Object(a.jsx)("div",{class:"card text-white bg-secondary",children:Object(a.jsxs)("div",{class:"card-body",children:[Object(a.jsx)("h5",{class:"card-title",children:"Not Authorized"}),Object(a.jsx)("p",{class:"card-text",children:"You don't have suitable permission to view the content!!!"})]})})})})})]})]})})};c(24);var A=function(){return Object(a.jsxs)("div",{className:"App container-fluid",children:[Object(a.jsxs)("div",{className:"jumbotron",children:[Object(a.jsx)("h1",{children:"Casting Agency"}),Object(a.jsx)("p",{children:"Single place to view movies, actors and assign actors to the movies!!!!!"})]}),Object(a.jsx)(N,{}),Object(a.jsx)(j.a,{})]})},y=(c(25),c(26),c(27),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,31)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),a(e),s(e),n(e),i(e)}))}),T=Object({NODE_ENV:"production",PUBLIC_URL:"/static/react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH0_API_AUDIENCE:"casting",REACT_APP_AUTH0_API_DOMAIN:"dev-prav-auth.us.auth0.com",REACT_APP_AUTH0_CLIENT_ID:"DavU4i56mMk4qPck3ruSla263xEczzJ5"}),k=T.REACT_APP_AUTH0_API_AUDIENCE,M=T.REACT_APP_AUTH0_API_DOMAIN,E=T.REACT_APP_AUTH0_CLIENT_ID;i.a.render(Object(a.jsx)(p.a,{domain:M,clientId:E,redirectUri:window.location.origin,audience:k,children:Object(a.jsx)(A,{})}),document.getElementById("root")),y()}},[[30,1,2]]]);
//# sourceMappingURL=main.1548e469.chunk.js.map